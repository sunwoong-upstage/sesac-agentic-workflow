# Workflow Design Document: News Chatbot Agent

> ì´ ë¬¸ì„œëŠ” ë‰´ìŠ¤ ì±—ë´‡ ì—ì´ì „íŠ¸ì˜ ì›Œí¬í”Œë¡œìš° ì„¤ê³„ë¥¼ ìƒì„¸íˆ ê¸°ìˆ í•©ë‹ˆë‹¤.
> ì‹¤ì œ ì½”ë“œë² ì´ìŠ¤(`agent/graph.py`, `agent/nodes.py`, `agent/tools.py`, `agent/state.py`, `agent/prompts.py`)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## 1. ì„œë¹„ìŠ¤ ê°œìš”

### 1.1 í•µì‹¬ ëª©ì ê³¼ í˜ì¸ í¬ì¸íŠ¸

**í•µì‹¬ ëª©ì **: AI ëŒ€í™”ë¥¼ í†µí•´ ì‚¬ìš©ì ë§ì¶¤í˜• ë‰´ìŠ¤ ì •ë³´ë¥¼ ê²€ìƒ‰, ìš”ì•½, ì œê³µí•˜ëŠ” ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ

**í•´ê²°í•˜ëŠ” í˜ì¸ í¬ì¸íŠ¸**:

| í˜ì¸ í¬ì¸íŠ¸ | í˜„ì¬ ë¬¸ì œ | ì—ì´ì „íŠ¸ ì†”ë£¨ì…˜ |
|------------|----------|----------------|
| **ì •ë³´ ê³¼ë¶€í•˜** | ë‰´ìŠ¤ ë§¤ì²´ê°€ ë„ˆë¬´ ë§ì•„ ì¤‘ìš” ì •ë³´ ì„ ë³„ ì–´ë ¤ì›€ | RAG ê¸°ë°˜ ë‰´ìŠ¤ ì•„ì¹´ì´ë¸Œ ê²€ìƒ‰ |
| **ì‹œê°„ ë¶€ì¡±** | ë°”ìœ ì¼ìƒì—ì„œ ë‰´ìŠ¤ ì†Œë¹„ ì‹œê°„ í™•ë³´ ì–´ë ¤ì›€ | í•µì‹¬ ìš”ì•½ ì œê³µ |
| **ë§¥ë½ ë¶€ì¡±** | ìƒëŒ€ì  ë‚ ì§œ í‘œí˜„ ì´í•´ ì–´ë ¤ì›€ ("ì§€ë‚œì£¼", "3ì¼ ì „") | ë‚ ì§œ ê³„ì‚° ë„êµ¬ë¡œ ì •í™•í•œ ê¸°ê°„ íŒŒì•… |
| **ìµœì‹ ì„± ë¶€ì¡±** | ì €ì¥ëœ ì •ë³´ë§Œìœ¼ë¡œëŠ” ì‹¤ì‹œê°„ ë‰´ìŠ¤ íŒŒì•… ë¶ˆê°€ | SERPER APIë¡œ ì‹¤ì‹œê°„ ë‰´ìŠ¤ ê²€ìƒ‰ |

### 1.2 ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     News Chatbot Agent                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. ì˜ë„ ë¶„ë¥˜ (Intent Classification)                            â”‚
â”‚     - 4ê°€ì§€ ì¹´í…Œê³ ë¦¬: ë‰´ìŠ¤ ê²€ìƒ‰, íŠ¸ë Œë”©, ìš”ì•½, ì¼ë°˜ ëŒ€í™”         â”‚
â”‚                                                                  â”‚
â”‚  2. ì„ í˜¸ë„ ì¶”ì¶œ (Preference Extraction)                          â”‚
â”‚     - ëŒ€í™”ì—ì„œ ì£¼ì œ, í‚¤ì›Œë“œ, ë‚ ì§œ ë²”ìœ„ ì¶”ì¶œ                      â”‚
â”‚                                                                  â”‚
â”‚  3. ê³„íš ìˆ˜ë¦½ (Plan-and-Solve)                                   â”‚
â”‚     - ì‚¬ìš©ì ìš”ì²­ ë¶„ì„ í›„ ì‹¤í–‰ ë‹¨ê³„ ë„ì¶œ                          â”‚
â”‚                                                                  â”‚
â”‚  4. ë„êµ¬ í˜¸ì¶œ (Tool Execution)                                   â”‚
â”‚     - RAG ê²€ìƒ‰, ë‚ ì§œ ê³„ì‚°, ì›¹ ê²€ìƒ‰                                â”‚
â”‚                                                                  â”‚
â”‚  5. ì‘ë‹µ í•©ì„± (Response Synthesis)                               â”‚
â”‚     - ìˆ˜ì§‘ëœ ì •ë³´ë¥¼ ì¢…í•©í•˜ì—¬ ìµœì¢… ì‘ë‹µ ìƒì„±                       â”‚
â”‚                                                                  â”‚
â”‚  6. í’ˆì§ˆ í‰ê°€-ê°œì„  ë£¨í”„ (Evaluator-Optimizer)                    â”‚
â”‚     - ì‘ë‹µ í’ˆì§ˆ í‰ê°€ (7ì  ì´ìƒ í†µê³¼) + ìµœëŒ€ 2íšŒ ë°˜ë³µ ê°œì„          â”‚
â”‚                                                                  â”‚
â”‚  7. ë©”ëª¨ë¦¬ ì €ì¥ (Memory Persistence)                             â”‚
â”‚     - ëŒ€í™” ì²´í¬í¬ì¸íŠ¸ (MemorySaver) + ì‚¬ìš©ì í”„ë¡œí•„ (InMemoryStore) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 ì„¤ê³„ ì‹œ ê³ ë¯¼ì´ í•„ìš”í•œ ì§ˆë¬¸ë“¤

| ì˜ì—­ | ì§ˆë¬¸ | í˜„ì¬ êµ¬í˜„ ìƒíƒœ |
|------|------|---------------|
| **ë°ì´í„°** | ë‰´ìŠ¤ ì •ë³´ëŠ” ì–´ë””ì„œ ì˜¤ëŠ”ê°€? | ë‚´ë¶€ ì§€ì‹ë² ì´ìŠ¤ (`NEWS_DATABASE`) + Serper ì›¹ ê²€ìƒ‰ |
| **ë°ì´í„°** | ë‰´ìŠ¤ ë°ì´í„°ëŠ” ì–´ë–»ê²Œ ê´€ë¦¬ë˜ëŠ”ê°€? | 10ê°œ Mock ë‰´ìŠ¤ (í•˜ë“œì½”ë”©) |
| **ë©”ëª¨ë¦¬** | ì‚¬ìš©ì ê´€ì‹¬ ì£¼ì œëŠ” ì–´ë–»ê²Œ ì €ì¥ë˜ëŠ”ê°€? | `InMemoryStore` (ê¸°ë³¸ í”„ë¡œí•„ ì €ì¥, í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘ ì‹œ íœ˜ë°œ) |
| **ë©”ëª¨ë¦¬** | ëŒ€í™” íˆìŠ¤í† ë¦¬ëŠ” ì–´ë–»ê²Œ ìœ ì§€ë˜ëŠ”ê°€? | `MemorySaver` (LangGraph ì²´í¬í¬ì¸íŠ¸, thread_id ê¸°ë°˜) |
| **í’ˆì§ˆ** | ì‘ë‹µ í’ˆì§ˆì€ ì–´ë–»ê²Œ ë³´ì¥í•˜ëŠ”ê°€? | Evaluator-Optimizer ë£¨í”„ (7ì  ê¸°ì¤€, 2íšŒ ë°˜ë³µ) |
| **ë„êµ¬** | ì›¹ ê²€ìƒ‰ì´ ì‹¤íŒ¨í•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ê°€? | í´ë°± ë©”ì‹œì§€ ë°˜í™˜ ("API í‚¤ ë¯¸ì„¤ì •") |
| **ë„êµ¬** | RAG ê²€ìƒ‰ì´ ì‹¤íŒ¨í•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ê°€? | "ê´€ë ¨ ë‰´ìŠ¤ë¥¼ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ |

---

## 2. ì„¤ê³„ ë„ë©´

### 2.1 ë„ë©´ #1: ì‚¬ìš©ì-ì‹œìŠ¤í…œ ìƒí˜¸ì‘ìš© (ê¸°ëŠ¥ ìœ„ì£¼)

```mermaid
flowchart TB
    subgraph User["ì‚¬ìš©ì"]
        U1[/"ë‰´ìŠ¤ ë¬¸ì˜ ì…ë ¥"/]
        U2[/"ì‘ë‹µ ìˆ˜ì‹ "/]
    end

    subgraph Agent["News Chatbot Agent"]
        A1["ì˜ë„ ë¶„ë¥˜ + ì„ í˜¸ë„ ì¶”ì¶œ"]
        A2["ê³„íš ìˆ˜ë¦½"]
        A3["ì •ë³´ ì¡°ì‚¬"]
        A4["ì‘ë‹µ ìƒì„± + í’ˆì§ˆ í‰ê°€"]
    end

    subgraph Tools["ë„êµ¬"]
        T1["RAG ê²€ìƒ‰"]
        T2["ë‚ ì§œ ê³„ì‚°"]
        T3["ì›¹ ê²€ìƒ‰"]
    end

    U1 --> A1 --> A2 --> A3 --> A4 --> U2
    A3 --> T1 & T2 & T3
```

### 2.2 ë„ë©´ #2: ì›Œí¬í”Œë¡œìš° íë¦„ë„ (Node/Edge ìœ„ì£¼)

```mermaid
flowchart TD
    START(("START"))

    classify["classify_intent<br/>â”â”â”â”â”â”â”â”â”â”â”<br/>ì˜ë„ ë¶„ë¥˜<br/>(4ê°€ì§€ ì¹´í…Œê³ ë¦¬)"]

    extract["extract_preferences<br/>â”â”â”â”â”â”â”â”â”â”â”<br/>ì„ í˜¸ë„ ì¶”ì¶œ<br/>(topics, keywords, date_range)"]

    plan["plan<br/>â”â”â”â”â”â”â”â”â”â”â”<br/>ì‹¤í–‰ ê³„íš ìˆ˜ë¦½<br/>(Plan-and-Solve)"]

    research["research<br/>â”â”â”â”â”â”â”â”â”â”â”<br/>ë„êµ¬ í˜¸ì¶œ<br/>(RAG, ë‚ ì§œê³„ì‚°, ì›¹ê²€ìƒ‰)"]

    synthesize["synthesize<br/>â”â”â”â”â”â”â”â”â”â”â”<br/>ì‘ë‹µ í•©ì„±"]

    evaluate["evaluate_response<br/>â”â”â”â”â”â”â”â”â”â”â”<br/>í’ˆì§ˆ í‰ê°€<br/>(1-10ì )"]

    improve["improve_response<br/>â”â”â”â”â”â”â”â”â”â”â”<br/>ì‘ë‹µ ê°œì„ "]

    save["save_memory<br/>â”â”â”â”â”â”â”â”â”â”â”<br/>í”„ë¡œí•„ ì €ì¥"]

    END(("END"))

    START --> classify

    classify -->|"skip_to_end=True<br/>(ë¹ˆ ì…ë ¥/ì¼ë°˜ëŒ€í™”)"| save
    classify -->|"continue"| extract

    extract --> plan
    plan --> research
    research --> synthesize
    synthesize --> evaluate

    evaluate -->|"score >= 7 OR<br/>iteration >= 2"| save
    evaluate -->|"score < 7 AND<br/>iteration < 2"| improve

    improve --> evaluate

    save --> END

    style classify fill:#e1f5fe
    style extract fill:#e8f5e9
    style plan fill:#fff3e0
    style research fill:#fce4ec
    style synthesize fill:#f3e5f5
    style evaluate fill:#e0f2f1
    style improve fill:#fff8e1
    style save fill:#efebe9
```

### 2.3 ë„ë©´ #3: ë„êµ¬ ë°”ì¸ë”© ë° ë°ì´í„° íë¦„

```mermaid
flowchart LR
    subgraph State["NewsChatbotState"]
        direction TB
        S_input["user_input"]
        S_intent["intent"]
        S_prefs["topics, keywords, date_range"]
        S_plan["execution_plan"]
        S_results["tool_results"]
        S_response["final_response"]
        S_eval["quality_score<br/>quality_feedback<br/>evaluation_passed"]
        S_profile["user_profile"]
    end

    subgraph Research["research ë…¸ë“œ"]
        R_LLM["LLM.bind_tools()"]
    end

    subgraph Tools["RESEARCH_TOOLS"]
        T1["search_news_archive"]
        T2["calculate_date_range"]
        T3["search_recent_news"]
    end

    subgraph External["ì™¸ë¶€ ì˜ì¡´ì„±"]
        E1[("FAISS<br/>+ Upstage Embeddings")]
        E2[("Python datetime")]
        E3[("Serper API")]
    end

    S_input --> R_LLM
    S_plan --> R_LLM

    R_LLM -->|"tool_calls"| T1 & T2 & T3

    T1 --> E1
    T2 --> E2
    T3 --> E3

    T1 -->|"result"| S_results
    T2 -->|"result"| S_results
    T3 -->|"result"| S_results

    style Research fill:#fce4ec
    style Tools fill:#e8f5e9
    style External fill:#e1f5fe
```

---

## 3. ì›Œí¬í”Œë¡œìš° ìƒì„¸ ì„¤ê³„

### 3.1 ì´ìš©ì ê´€ì  íë¦„ (UX Flow)

**ì‹œë‚˜ë¦¬ì˜¤**: "ìµœê·¼ ì¼ì£¼ì¼ê°„ ì—”ë¹„ë””ì•„ ê´€ë ¨ ë‰´ìŠ¤ ì•Œë ¤ì¤˜"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ì‚¬ìš©ì ì…ë ¥]                                                    â”‚
â”‚ "ìµœê·¼ ì¼ì£¼ì¼ê°„ ì—”ë¹„ë””ì•„ ê´€ë ¨ ë‰´ìŠ¤ ì•Œë ¤ì¤˜"                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ì—ì´ì „íŠ¸ ì²˜ë¦¬ - ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ ì•ŠìŒ]                         â”‚
â”‚                                                                  â”‚
â”‚ 1. ì˜ë„ ë¶„ë¥˜: "news_search"                                     â”‚
â”‚ 2. ì„ í˜¸ë„ ì¶”ì¶œ: topics=["ì—”ë¹„ë””ì•„"], date_range=7 days          â”‚
â”‚ 3. ê³„íš ìˆ˜ë¦½: ["ë‚ ì§œ ê³„ì‚°", "ì•„ì¹´ì´ë¸Œ ê²€ìƒ‰", "ì›¹ ê²€ìƒ‰"]          â”‚
â”‚ 4. ë„êµ¬ í˜¸ì¶œ:                                                    â”‚
â”‚    - calculate_date_range(7, "days")                            â”‚
â”‚    - search_news_archive("ì—”ë¹„ë””ì•„")                            â”‚
â”‚    - search_recent_news("ì—”ë¹„ë””ì•„ ë‰´ìŠ¤")                        â”‚
â”‚ 5. ì‘ë‹µ í•©ì„±: ë‰´ìŠ¤ ìš”ì•½ ì‘ì„±                                     â”‚
â”‚ 6. í’ˆì§ˆ í‰ê°€: 8ì  (í†µê³¼)                                         â”‚
â”‚ 7. ë©”ëª¨ë¦¬ ì €ì¥: ê´€ì‹¬ ì£¼ì œì— "ì—”ë¹„ë””ì•„" ì¶”ê°€                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ìµœì¢… ì‘ë‹µ]                                                      â”‚
â”‚                                                                  â”‚
â”‚ ğŸ“° ì—”ë¹„ë””ì•„ ê´€ë ¨ ë‰´ìŠ¤ (ìµœê·¼ 7ì¼)                                 â”‚
â”‚                                                                  â”‚
â”‚ ğŸ”¹ **CES 2025: ì—”ë¹„ë””ì•„ ì‹ ì œí’ˆ ë°œí‘œ** (2026-01-28)              â”‚
â”‚    - ì°¨ì„¸ëŒ€ GPU ì•„í‚¤í…ì²˜ ê³µê°œ                                    â”‚
â”‚    - AI ì¹© ì‹œì¥ ì§€ë°°ë ¥ ê°•í™” ì „ë§                                 â”‚
â”‚                                                                  â”‚
â”‚ ğŸ”¹ **ì‚¼ì„±ì „ì-ì—”ë¹„ë””ì•„ HBM ê³µê¸‰ ê³„ì•½** (2026-01-27)             â”‚
â”‚    - ì°¨ì„¸ëŒ€ ë©”ëª¨ë¦¬ ê³µê¸‰ í˜‘ë ¥                                     â”‚
â”‚    - ë°˜ë„ì²´ ë™ë§¹ ê°•í™”                                            â”‚
â”‚                                                                  â”‚
â”‚ ğŸ”¹ **ì—”ë¹„ë””ì•„ ë¶„ê¸° ì‹¤ì  ë°œí‘œ** (2026-01-25)                     â”‚
â”‚    - ë§¤ì¶œ ì „ë…„ë¹„ 200% ì„±ì¥                                       â”‚
â”‚    - AI ìˆ˜ìš” í­ë°œì  ì¦ê°€                                         â”‚
â”‚                                                                  â”‚
â”‚ ğŸ’¡ ê²€ìƒ‰ ê¸°ê°„: 2026-01-26 ~ 2026-02-02                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ì‹œìŠ¤í…œ ê´€ì  íë¦„ (Technical Flow)

**State ë³€í™” ì¶”ì **:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ì´ˆê¸° ìƒíƒœ (Initial State)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ state = {                                                        â”‚
â”‚   user_input: "ìµœê·¼ ì¼ì£¼ì¼ê°„ ì—”ë¹„ë””ì•„ ê´€ë ¨ ë‰´ìŠ¤ ì•Œë ¤ì¤˜"         â”‚
â”‚   messages: [],                                                  â”‚
â”‚   intent: "",              // ì•„ì§ ë¶„ë¥˜ ì•ˆ ë¨                   â”‚
â”‚   intent_confidence: 0.0,                                        â”‚
â”‚   topics: [],              // ì¶”ì¶œ ëŒ€ê¸°                         â”‚
â”‚   keywords: [],                                                  â”‚
â”‚   date_range: null,                                              â”‚
â”‚   execution_plan: "",      // ê³„íš ëŒ€ê¸°                         â”‚
â”‚   tool_results: [],        // ë„êµ¬ ì‹¤í–‰ ê²°ê³¼ ëˆ„ì               â”‚
â”‚   final_response: "",                                            â”‚
â”‚   quality_score: 0,        // í‰ê°€ ëŒ€ê¸°                         â”‚
â”‚   quality_feedback: "",                                          â”‚
â”‚   evaluation_passed: false,                                      â”‚
â”‚   iteration: 0,            // ê°œì„  ë°˜ë³µ íšŸìˆ˜                    â”‚
â”‚   max_iterations: 2,       // ìµœëŒ€ ê°œì„  ì‹œë„                    â”‚
â”‚   user_profile: {},                                              â”‚
â”‚   error_log: []                                                  â”‚
â”‚ }                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. classify_intent ë…¸ë“œ ì‹¤í–‰ í›„                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ state.intent = "news_search"        // LLMì´ ì˜ë„ ë¶„ë¥˜          â”‚
â”‚ state.intent_confidence = 0.95      // ì‹ ë¢°ë„ ì ìˆ˜              â”‚
â”‚ state.messages += [HumanMessage]    // ëŒ€í™” íˆìŠ¤í† ë¦¬ì— ì¶”ê°€     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. extract_preferences ë…¸ë“œ ì‹¤í–‰ í›„                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ state.topics = ["ì—”ë¹„ë””ì•„"]                                     â”‚
â”‚ state.keywords = ["ë‰´ìŠ¤", "ìµœê·¼"]                               â”‚
â”‚ state.date_range = {                                             â”‚
â”‚   time_value: 7,                                                 â”‚
â”‚   time_unit: "days"                                              â”‚
â”‚ }                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. plan ë…¸ë“œ ì‹¤í–‰ í›„                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ state.execution_plan = "                                         â”‚
â”‚   1. ë‚ ì§œ ë²”ìœ„ ê³„ì‚° (calculate_date_range í˜¸ì¶œ)                 â”‚
â”‚   2. ë‰´ìŠ¤ ì•„ì¹´ì´ë¸Œ ê²€ìƒ‰ (search_news_archive í˜¸ì¶œ)              â”‚
â”‚   3. ì‹¤ì‹œê°„ ë‰´ìŠ¤ ê²€ìƒ‰ (search_recent_news í˜¸ì¶œ)                 â”‚
â”‚ "                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. research ë…¸ë“œ ì‹¤í–‰ í›„ (ë„êµ¬ í˜¸ì¶œ ê²°ê³¼)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ state.tool_results = [                                           â”‚
â”‚   {                                                              â”‚
â”‚     tool: "calculate_date_range",                                â”‚
â”‚     result: "ì‹œì‘ì¼: 2026-01-26, ì¢…ë£Œì¼: 2026-02-02"            â”‚
â”‚   },                                                             â”‚
â”‚   {                                                              â”‚
â”‚     tool: "search_news_archive",                                 â”‚
â”‚     result: "[IT] ì—”ë¹„ë””ì•„ GPU ì‹ ì œí’ˆ ë°œí‘œ..."                  â”‚
â”‚   },                                                             â”‚
â”‚   {                                                              â”‚
â”‚     tool: "search_recent_news",                                  â”‚
â”‚     result: "ì—”ë¹„ë””ì•„ CES ë°œí‘œ, ì‚¼ì„± HBM ê³„ì•½..."               â”‚
â”‚   }                                                              â”‚
â”‚ ]                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. synthesize ë…¸ë“œ ì‹¤í–‰ í›„ (ì‘ë‹µ ìƒì„±)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ state.final_response = "                                         â”‚
â”‚   ğŸ“° ì—”ë¹„ë””ì•„ ê´€ë ¨ ë‰´ìŠ¤ (ìµœê·¼ 7ì¼)                              â”‚
â”‚   ğŸ”¹ CES 2025: ì—”ë¹„ë””ì•„ ì‹ ì œí’ˆ ë°œí‘œ...                         â”‚
â”‚   ğŸ”¹ ì‚¼ì„±ì „ì-ì—”ë¹„ë””ì•„ HBM ê³µê¸‰ ê³„ì•½...                        â”‚
â”‚   ...                                                            â”‚
â”‚ "                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. evaluate_response ë…¸ë“œ ì‹¤í–‰ í›„ (í’ˆì§ˆ í‰ê°€)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ state.quality_score = 8                 // 7ì  ì´ìƒ = í†µê³¼      â”‚
â”‚ state.quality_feedback = "êµ¬ì²´ì ì¸ ë‚ ì§œì™€ ë‚´ìš© í¬í•¨, ê°€ë…ì„± ì¢‹ìŒ"â”‚
â”‚ state.evaluation_passed = true          // ê°œì„  ë£¨í”„ ì¢…ë£Œ ì¡°ê±´  â”‚
â”‚ state.iteration = 1                     // 1íšŒ í‰ê°€ ì™„ë£Œ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. save_memory ë…¸ë“œ ì‹¤í–‰ í›„ (í”„ë¡œí•„ ì—…ë°ì´íŠ¸)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ state.user_profile = {                                           â”‚
â”‚   interests: ["ì—”ë¹„ë””ì•„", "AI", "ë°˜ë„ì²´"],  // ê´€ì‹¬ì‚¬ ëˆ„ì       â”‚
â”‚   query_history: [                           // ë¬¸ì˜ ì´ë ¥ ì¶”ê°€  â”‚
â”‚     {                                                            â”‚
â”‚       query: "ìµœê·¼ ì¼ì£¼ì¼ê°„ ì—”ë¹„ë””ì•„...",                       â”‚
â”‚       intent: "news_search",                                     â”‚
â”‚       quality_score: 8,                                          â”‚
â”‚       timestamp: 2026-02-02T...                                  â”‚
â”‚     }                                                            â”‚
â”‚   ]                                                              â”‚
â”‚ }                                                                â”‚
â”‚                                                                  â”‚
â”‚ // InMemoryStoreì— user_id ê¸°ë°˜ìœ¼ë¡œ ì €ì¥                        â”‚
â”‚ memory_store.put(namespace="user_profile", key=user_id, value=...) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ë…¸ë“œë³„ ìƒì„¸ ëª…ì„¸

| Node | ì—­í•  | Input | Output | LLM ì‚¬ìš© | êµ¬í˜„ ìœ„ì¹˜ |
|------|------|-------|--------|---------|----------|
| `classify_intent` | ì‚¬ìš©ì ë¬¸ì˜ë¥¼ 4ê°€ì§€ ì¹´í…Œê³ ë¦¬ë¡œ ë¶„ë¥˜ | `user_input` | `intent`, `intent_confidence`, `messages` | Yes (structured_output) | `nodes.py` |
| `extract_preferences` | ëŒ€í™”ì—ì„œ ë‰´ìŠ¤ ì„ í˜¸ë„ ì¶”ì¶œ | `messages` | `topics`, `keywords`, `date_range` | Yes (structured_output) | `nodes.py` |
| `plan` | Plan-and-Solve ê¸°ë²•ìœ¼ë¡œ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ | `user_input`, `intent`, `user_profile` | `execution_plan` | Yes (structured_output) | `nodes.py` |
| `research` | ê³„íšì— ë”°ë¼ ë„êµ¬ í˜¸ì¶œ ë° ì •ë³´ ìˆ˜ì§‘ | `execution_plan`, `user_input` | `tool_results` | Yes (bind_tools) | `nodes.py` |
| `synthesize` | ìˆ˜ì§‘ëœ ì •ë³´ë¥¼ ì¢…í•©í•˜ì—¬ ìµœì¢… ì‘ë‹µ ìƒì„± | `user_input`, `tool_results` | `final_response`, `messages` | Yes | `nodes.py` |
| `evaluate_response` | ì‘ë‹µ í’ˆì§ˆ í‰ê°€ (1-10ì ) | `user_input`, `final_response`, `intent` | `quality_score`, `quality_feedback`, `evaluation_passed`, `iteration` | Yes (structured_output) | `nodes.py` |
| `improve_response` | í”¼ë“œë°± ë°˜ì˜í•˜ì—¬ ì‘ë‹µ ê°œì„  | `user_input`, `final_response`, `quality_feedback` | `final_response`, `messages` | Yes | `nodes.py` |
| `save_memory` | ì‚¬ìš©ì í”„ë¡œí•„ ë° ì´ë ¥ ì €ì¥ | `user_input`, `intent`, `quality_score`, `topics` | `user_profile` | No | `nodes.py` |

**Conditional Edge ë¡œì§**:

| ì¡°ê±´ í•¨ìˆ˜ | ë¶„ê¸°ì  | ì¡°ê±´ | ë‹¤ìŒ ë…¸ë“œ |
|----------|--------|------|----------|
| `classify_intent` í›„ ë¶„ê¸° | `intent="general"` (ì¼ë°˜ ëŒ€í™”) | - | `save_memory` |
| `classify_intent` í›„ ë¶„ê¸° | `intent!="general"` | - | `extract_preferences` |
| `should_improve_response` | `evaluation_passed=True` | - | `save_memory` (end) |
| `should_improve_response` | `iteration >= max_iterations` | - | `save_memory` (end) |
| `should_improve_response` | ê·¸ ì™¸ | - | `improve_response` |

### 3.4 ë„êµ¬(Tool) ëª…ì„¸

| Tool | ëª©ì  | Input Schema | Output | ì‹¤íŒ¨ ì‹œ í´ë°± | êµ¬í˜„ ìœ„ì¹˜ |
|------|------|-------------|--------|------------|----------|
| `search_news_archive` | ë‰´ìŠ¤ ì•„ì¹´ì´ë¸Œ RAG ê²€ìƒ‰ | `query: str` | ê´€ë ¨ ë‰´ìŠ¤ ê¸°ì‚¬ (ìµœëŒ€ 3ê°œ) | "ê´€ë ¨ ë‰´ìŠ¤ ì—†ìŒ" ë©”ì‹œì§€ | `tools.py` |
| `calculate_date_range` | ìƒëŒ€ ë‚ ì§œë¥¼ ì‹¤ì œ ë‚ ì§œë¡œ ë³€í™˜ | `time_value: int`, `time_unit: str` | ì‹œì‘ì¼, ì¢…ë£Œì¼ | ì˜¤ë¥˜ ë©”ì‹œì§€ ë°˜í™˜ | `tools.py` |
| `search_recent_news` | ì‹¤ì‹œê°„ ë‰´ìŠ¤ ê²€ìƒ‰ (Serper API) | `query: str`, `num_results: int` | ê²€ìƒ‰ ê²°ê³¼ ìš”ì•½ (ìµœëŒ€ 5ê°œ) | "API í‚¤ ë¯¸ì„¤ì •" ë©”ì‹œì§€ | `tools.py` |

**ë„êµ¬ ì˜ì¡´ì„±**:

```
search_news_archive
â”œâ”€â”€ FAISS VectorStore
â”‚   â””â”€â”€ UpstageEmbeddings (solar-embedding-1-large)
â””â”€â”€ NEWS_DATABASE (10ê°œ Mock ë‰´ìŠ¤)
    â”œâ”€â”€ IT: ì—”ë¹„ë””ì•„, ì‚¼ì„±ì „ì, ì• í”Œ
    â”œâ”€â”€ ê²½ì œ: ê¸ˆë¦¬, í™˜ìœ¨
    â””â”€â”€ ì‚°ì—…: ì „ê¸°ì°¨, ë°°í„°ë¦¬, ë°˜ë„ì²´

calculate_date_range
â””â”€â”€ Python datetime + timedelta
    â””â”€â”€ ì§€ì› ë‹¨ìœ„: days, weeks, months

search_recent_news
â””â”€â”€ Serper API (SERPER_API_KEY í™˜ê²½ë³€ìˆ˜ í•„ìš”)
    â””â”€â”€ Google ë‰´ìŠ¤ ê²€ìƒ‰ ê²°ê³¼ (5ê°œ)
```

---

## 4. êµ¬í˜„ ì „ëµ

### 4.1 ì»¨í…ìŠ¤íŠ¸ ì—”ì§€ë‹ˆì–´ë§

**Stateë¥¼ í†µí•œ ë…¸ë“œ ê°„ ë°ì´í„° ì „ë‹¬**:

```python
class NewsChatbotState(TypedDict):
    """ë‰´ìŠ¤ ì±—ë´‡ ì—ì´ì „íŠ¸ ìƒíƒœ"""
    # ì…ë ¥
    user_input: str                                      # ì‚¬ìš©ì ì›ë³¸ ì…ë ¥
    messages: Annotated[List[BaseMessage], operator.add] # ëŒ€í™” íˆìŠ¤í† ë¦¬ (ëˆ„ì )

    # ì˜ë„ ë¶„ë¥˜
    intent: str                                          # ë¶„ë¥˜ëœ ì˜ë„
    intent_confidence: float                             # ë¶„ë¥˜ ì‹ ë¢°ë„

    # ë‰´ìŠ¤ ì„ í˜¸ë„
    topics: List[str]                                    # ê´€ì‹¬ ì£¼ì œ
    keywords: List[str]                                  # ê²€ìƒ‰ í‚¤ì›Œë“œ
    date_range: Optional[dict]                           # ë‚ ì§œ ë²”ìœ„

    # ì‹¤í–‰ ê³„íš
    execution_plan: str                                  # ì‹¤í–‰ ë‹¨ê³„

    # ë„êµ¬ ê²°ê³¼
    tool_results: Annotated[List[dict], operator.add]    # ë„êµ¬ í˜¸ì¶œ ê²°ê³¼ (ëˆ„ì )

    # ìµœì¢… ì‘ë‹µ
    final_response: str                                  # ìµœì¢… ì‘ë‹µ í…ìŠ¤íŠ¸

    # í’ˆì§ˆ í‰ê°€
    quality_score: int                                   # í’ˆì§ˆ ì ìˆ˜ (1-10)
    quality_feedback: str                                # í‰ê°€ í”¼ë“œë°±
    evaluation_passed: bool                              # í†µê³¼ ì—¬ë¶€

    # ë°˜ë³µ ì œì–´
    iteration: int                                       # í˜„ì¬ ë°˜ë³µ íšŸìˆ˜
    max_iterations: int                                  # ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜ (ê¸°ë³¸: 2)

    # ë©”ëª¨ë¦¬
    user_profile: dict                                   # ì‚¬ìš©ì í”„ë¡œí•„ (ê´€ì‹¬ì‚¬, ì´ë ¥)
    error_log: Annotated[List[str], operator.add]        # ì—ëŸ¬ ë¡œê·¸ (ëˆ„ì )
```

**ì„¤ê³„ í¬ì¸íŠ¸**:
- `operator.add`ê°€ ì„¤ì •ëœ í•„ë“œ(`messages`, `tool_results`, `error_log`)ëŠ” ëˆ„ì ë¨
- ë…¸ë“œëŠ” ìì‹ ì´ ë³€ê²½í•  í•„ë“œë§Œ ë°˜í™˜

### 4.2 ë©”ëª¨ë¦¬ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ê¸°ë³¸ ë©”ëª¨ë¦¬ êµ¬ì„±                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚     MemorySaver       â”‚    â”‚    InMemoryStore      â”‚         â”‚
â”‚  â”‚  (LangGraph í•„ìˆ˜)     â”‚    â”‚  (ì‚¬ìš©ì í”„ë¡œí•„)      â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚ Key: thread_id        â”‚    â”‚ Key: user_id          â”‚         â”‚
â”‚  â”‚ Scope: ëŒ€í™” ì„¸ì…˜      â”‚    â”‚ Scope: ì‚¬ìš©ì ì „ì²´    â”‚         â”‚
â”‚  â”‚ ì €ì¥: ì²´í¬í¬ì¸íŠ¸      â”‚    â”‚ ì €ì¥: í”„ë¡œí•„ ë°ì´í„°   â”‚         â”‚
â”‚  â”‚ ìš©ë„: ëŒ€í™” ì—°ì†ì„±     â”‚    â”‚ ìš©ë„: ê´€ì‹¬ì‚¬ ëˆ„ì      â”‚         â”‚
â”‚  â”‚ í•„ìˆ˜: LangGraph ìš”êµ¬  â”‚    â”‚ ìˆ˜ëª…: í”„ë¡œì„¸ìŠ¤ ë™ì•ˆ   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                  â”‚
â”‚  [êµ¬í˜„ í˜„í™©]                                                     â”‚
â”‚  - MemorySaver: LangGraph ì²´í¬í¬ì¸íŠ¸ ì €ì¥ìš© (ê¸°ë³¸ ì¸í”„ë¼)       â”‚
â”‚  - InMemoryStore: ê°„ë‹¨í•œ ì‚¬ìš©ì í”„ë¡œí•„ ì €ì¥ (interests, history)â”‚
â”‚  - ë‘˜ ë‹¤ ì¸ë©”ëª¨ë¦¬, í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘ ì‹œ íœ˜ë°œ                      â”‚
â”‚  - ì‹¤ì œ í”„ë¡œë•ì…˜ì—ì„œëŠ” Redis/PostgreSQL ë“± ì˜êµ¬ ì €ì¥ì†Œ í•„ìš”     â”‚
â”‚                                                                  â”‚
â”‚  [ì„¤ê³„ ì˜ë„]                                                     â”‚
â”‚  - ë³µì¡í•œ ë©”ëª¨ë¦¬ ì•„í‚¤í…ì²˜ê°€ ì•„ë‹Œ LangGraphì˜ ê¸°ë³¸ ê¸°ëŠ¥ í™œìš©     â”‚
â”‚  - êµìœ¡ ëª©ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ ê°œë…ì„ ì´í•´í•˜ê¸° ìœ„í•œ ìµœì†Œ êµ¬í˜„          â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì‚¬ìš©ì í”„ë¡œí•„ êµ¬ì¡°** (`user_profile`):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ user_profile ë°ì´í„° êµ¬ì¡°                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ {                                                                â”‚
â”‚   interests: [                                                   â”‚
â”‚     "ì—”ë¹„ë””ì•„",                                                  â”‚
â”‚     "AI",                                                        â”‚
â”‚     "ë°˜ë„ì²´"                                                     â”‚
â”‚   ],                                                             â”‚
â”‚   // ì‚¬ìš©ìê°€ ê´€ì‹¬ì„ ë³´ì¸ ì£¼ì œë“¤ (ì¤‘ë³µ ì œê±°)                    â”‚
â”‚   // save_memory ë…¸ë“œì—ì„œ state.topicsë¥¼ ë³‘í•©í•˜ì—¬ ëˆ„ì           â”‚
â”‚                                                                  â”‚
â”‚   query_history: [                                               â”‚
â”‚     {                                                            â”‚
â”‚       query: "ì—”ë¹„ë””ì•„ ë‰´ìŠ¤",         // ì‚¬ìš©ì ì›ë³¸ ì…ë ¥        â”‚
â”‚       intent: "news_search",          // ë¶„ë¥˜ëœ ì˜ë„             â”‚
â”‚       quality_score: 8,               // ìµœì¢… ì‘ë‹µ í’ˆì§ˆ ì ìˆ˜    â”‚
â”‚       timestamp: "2026-02-02T10:30:00" // ë¬¸ì˜ ì‹œê°             â”‚
â”‚     },                                                           â”‚
â”‚     ...                                // ê³¼ê±° ì´ë ¥ ê³„ì† ëˆ„ì     â”‚
â”‚   ]                                                              â”‚
â”‚   // ë¬¸ì˜ ì´ë ¥ ë¦¬ìŠ¤íŠ¸ (ìµœëŒ€ Nê°œê¹Œì§€ ìœ ì§€ ê°€ëŠ¥)                  â”‚
â”‚ }                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[í™œìš© ë°©ì•ˆ]
- interests: ë‹¤ìŒ ë‰´ìŠ¤ ì¶”ì²œ ì‹œ ìš°ì„ ìˆœìœ„ ë°˜ì˜
- query_history: ëŒ€í™” ë§¥ë½ íŒŒì•…, ë°˜ë³µ ì§ˆë¬¸ ê°ì§€
```

### 4.3 í‰ê°€-ìµœì í™” ë£¨í”„ (Evaluator-Optimizer)

**í‰ê°€ ê¸°ì¤€** (4ê°€ì§€):

| ê¸°ì¤€ | ì„¤ëª… |
|------|------|
| **ì •í™•ì„± (Accuracy)** | ë‰´ìŠ¤ ì •ë³´ê°€ ì •í™•í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ”ê°€? |
| **ê´€ë ¨ì„± (Relevance)** | ì‚¬ìš©ì ì§ˆë¬¸ê³¼ ê´€ë ¨ëœ ì •ë³´ì¸ê°€? |
| **ì™„ì„±ë„ (Completeness)** | ì¶©ë¶„í•œ ì •ë³´ê°€ ì œê³µë˜ì—ˆëŠ”ê°€? |
| **ê°€ë…ì„± (Readability)** | ì½ê¸° ì‰½ê³  êµ¬ì¡°í™”ë˜ì–´ ìˆëŠ”ê°€? |

**ì ìˆ˜ ê¸°ì¤€**:

| ì ìˆ˜ | íŒì • | ì•¡ì…˜ |
|------|------|------|
| 1-3ì  | ì‘ë‹µ ë¶€ì ì ˆ | ê°œì„  í•„ìš” (improve_response) |
| 4-6ì  | ê°œì„  í•„ìš” | ê°œì„  í•„ìš” (improve_response) |
| 7-8ì  | ì–‘í˜¸ | í†µê³¼ (save_memory) |
| 9-10ì  | ìš°ìˆ˜ | í†µê³¼ (save_memory) |

**ë£¨í”„ ì œì–´ ë¡œì§** (`should_improve_response`):

```
FUNCTION should_improve_response(state):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ì¡°ê±´ë¶€ ë¶„ê¸° ë¡œì§ (Conditional Edge)                         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                              â”‚
  â”‚ IF state.evaluation_passed == true:                         â”‚
  â”‚   â†’ RETURN "end"                                            â”‚
  â”‚   // í’ˆì§ˆ ê¸°ì¤€ í†µê³¼ ì‹œ ì¦‰ì‹œ ì¢…ë£Œ                            â”‚
  â”‚   // save_memory ë…¸ë“œë¡œ ì´ë™í•˜ì—¬ ê²°ê³¼ ì €ì¥                  â”‚
  â”‚                                                              â”‚
  â”‚ ELSE IF state.iteration >= state.max_iterations:            â”‚
  â”‚   â†’ RETURN "end"                                            â”‚
  â”‚   // ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜ ë„ë‹¬ (ê¸°ë³¸ê°’: 2íšŒ)                      â”‚
  â”‚   // ë” ì´ìƒ ê°œì„ í•˜ì§€ ì•Šê³  í˜„ì¬ ì‘ë‹µìœ¼ë¡œ ì¢…ë£Œ               â”‚
  â”‚                                                              â”‚
  â”‚ ELSE:                                                        â”‚
  â”‚   â†’ RETURN "improve"                                        â”‚
  â”‚   // í’ˆì§ˆ ê¸°ì¤€ ë¯¸ë‹¬ + ë°˜ë³µ ì—¬ìœ  ìˆìŒ                        â”‚
  â”‚   // improve_response ë…¸ë“œë¡œ ì´ë™í•˜ì—¬ ì‘ë‹µ ê°œì„              â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[íë¦„ ì˜ˆì‹œ]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Case 1: 1íšŒ ë§Œì— í†µê³¼                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ evaluate_response â†’ quality_score=8, evaluation_passed=true   â”‚
â”‚ should_improve_response â†’ "end" (ì¦‰ì‹œ ì¢…ë£Œ)                   â”‚
â”‚ â†’ save_memory â†’ END                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Case 2: 1íšŒ ê°œì„  í›„ í†µê³¼                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ evaluate_response â†’ quality_score=5, iteration=1              â”‚
â”‚ should_improve_response â†’ "improve"                           â”‚
â”‚ â†’ improve_response â†’ ì‘ë‹µ ê°œì„                                 â”‚
â”‚ â†’ evaluate_response â†’ quality_score=8, evaluation_passed=true â”‚
â”‚ should_improve_response â†’ "end"                               â”‚
â”‚ â†’ save_memory â†’ END                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Case 3: 2íšŒ ê°œì„ í•´ë„ ë¯¸ë‹¬ (ê°•ì œ ì¢…ë£Œ)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ evaluate_response â†’ quality_score=4, iteration=1              â”‚
â”‚ should_improve_response â†’ "improve"                           â”‚
â”‚ â†’ improve_response                                            â”‚
â”‚ â†’ evaluate_response â†’ quality_score=5, iteration=2            â”‚
â”‚ should_improve_response â†’ "end" (max_iterations ë„ë‹¬)         â”‚
â”‚ â†’ save_memory â†’ END (ì ìˆ˜ ë¯¸ë‹¬ì´ì§€ë§Œ ì¢…ë£Œ)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ì‹ ë¢°ë„ ë° ì œì•½ì‚¬í•­

### 5.1 êµ¬í˜„ ì‹œ ê³ ë¯¼ ì‚¬í•­

#### ë¹„ìš© (Cost)

| í•­ëª© | í˜¸ì¶œ ìœ„ì¹˜ | í˜¸ì¶œ íšŸìˆ˜ | ë¹„ìš© ìš”ì†Œ |
|------|----------|----------|----------|
| **LLM í˜¸ì¶œ** | classify_intent | 1íšŒ | Solar Pro |
| **LLM í˜¸ì¶œ** | extract_preferences | 1íšŒ | Solar Pro |
| **LLM í˜¸ì¶œ** | plan | 1íšŒ | Solar Pro |
| **LLM í˜¸ì¶œ** | research | 1íšŒ (ë„êµ¬ ë°”ì¸ë”©) | Solar Pro |
| **LLM í˜¸ì¶œ** | synthesize | 1íšŒ | Solar Pro |
| **LLM í˜¸ì¶œ** | evaluate_response | 1~2íšŒ (ë£¨í”„) | Solar Pro |
| **LLM í˜¸ì¶œ** | improve_response | 0~1íšŒ (ë£¨í”„) | Solar Pro |
| **ì„ë² ë”©** | search_news_archive | 1íšŒ (ì¿¼ë¦¬ ì„ë² ë”©) | Upstage Embedding |
| **API í˜¸ì¶œ** | search_recent_news | 0~1íšŒ | Serper API |

**ì´ LLM í˜¸ì¶œ íšŸìˆ˜**: ìµœì†Œ 6íšŒ, ìµœëŒ€ 8íšŒ (2íšŒ ë°˜ë³µ ì‹œ)

#### ì§€ì—° (Latency)

| ë…¸ë“œ | ì˜ˆìƒ ì§€ì—° | ë³‘ëª© ìš”ì†Œ |
|------|----------|----------|
| classify_intent | 0.5-1ì´ˆ | LLM í˜¸ì¶œ |
| extract_preferences | 0.5-1ì´ˆ | LLM í˜¸ì¶œ |
| plan | 1-2ì´ˆ | LLM í˜¸ì¶œ (êµ¬ì¡°í™” ì¶œë ¥) |
| research | 2-5ì´ˆ | ë‹¤ì¤‘ ë„êµ¬ í˜¸ì¶œ, ì›¹ ê²€ìƒ‰ |
| synthesize | 1-2ì´ˆ | LLM í˜¸ì¶œ (ê¸´ í…ìŠ¤íŠ¸) |
| evaluate_response | 0.5-1ì´ˆ | LLM í˜¸ì¶œ |
| improve_response | 1-2ì´ˆ | LLM í˜¸ì¶œ |

**ì´ ì‘ë‹µ ì‹œê°„**: ì•½ 6-13ì´ˆ (1íšŒ í†µê³¼ ì‹œ), ìµœëŒ€ 18ì´ˆ (2íšŒ ë°˜ë³µ ì‹œ)

#### í™˜ê° ë°©ì§€ (Hallucination)

| ì „ëµ | êµ¬í˜„ ë°©ì‹ |
|------|----------|
| **RAG ê¸°ë°˜ ì‚¬ì‹¤ ê²€ì¦** | ë‚´ë¶€ ë‰´ìŠ¤ ì•„ì¹´ì´ë¸Œì—ì„œ ê²€ì¦ëœ ì •ë³´ ìš°ì„  ì‚¬ìš© |
| **êµ¬ì¡°í™”ëœ ì¶œë ¥** | Pydantic ëª¨ë¸ë¡œ LLM ì¶œë ¥ í˜•ì‹ ì œì•½ |
| **í’ˆì§ˆ í‰ê°€ ë£¨í”„** | ìƒì„±ëœ ì‘ë‹µì„ ë³„ë„ LLMì´ í‰ê°€ |
| **ì¶œì²˜ ëª…ì‹œ** | ì›¹ ê²€ìƒ‰ ê²°ê³¼ì— ì¶œì²˜ í¬í•¨ |

### 5.2 ì˜ë„ì  ì œì™¸ ê¸°ëŠ¥ (Scope Limitation)

| ì œì™¸ëœ ê¸°ëŠ¥ | ì œì™¸ ì´ìœ  |
|------------|----------|
| **ì‹¤ì‹œê°„ ë‰´ìŠ¤ ì•Œë¦¼** | í‘¸ì‹œ ì•Œë¦¼ ì‹œìŠ¤í…œ ë³µì¡ì„± |
| **ë‰´ìŠ¤ ì›ë¬¸ ì „ì²´ ì œê³µ** | ì €ì‘ê¶Œ ì´ìŠˆ |
| **ë‰´ìŠ¤ íŒ©íŠ¸ì²´í¬** | íŒ©íŠ¸ì²´í¬ DB ì—°ë™ í•„ìš” |
| **ë‰´ìŠ¤ ê°ì„± ë¶„ì„** | ì¶”ê°€ ëª¨ë¸ í•„ìš” (í™•ì¥ í™œë™ìœ¼ë¡œ ì œê³µ) |
| **ë‹¤êµ­ì–´ ì§€ì›** | í•œêµ­ì–´ ì „ìš© |

### 5.3 ì•Œë ¤ì§„ ì œì•½ì‚¬í•­

| ì œì•½ì‚¬í•­ | ì˜í–¥ | ì™„í™” ë°©ì•ˆ |
|---------|------|----------|
| **InMemoryStore íœ˜ë°œì„±** | í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘ ì‹œ ì‚¬ìš©ì í”„ë¡œí•„ ì†ì‹¤ | Redis/PostgreSQLë¡œ êµì²´ |
| **10ê°œ Mock ë‰´ìŠ¤ ì œí•œ** | ì§€ì›ë˜ì§€ ì•ŠëŠ” ì£¼ì œ ì •ë³´ ë¶€ì¡± | ì›¹ ê²€ìƒ‰ìœ¼ë¡œ ë³´ì™„ |
| **Serper API í‚¤ í•„ìš”** | API í‚¤ ì—†ìœ¼ë©´ ì›¹ ê²€ìƒ‰ ë¶ˆê°€ | ë‚´ë¶€ ì•„ì¹´ì´ë¸Œë¡œ í´ë°± |
| **í•œêµ­ì–´ ì „ìš©** | ë‹¤êµ­ì–´ ì§€ì› ì—†ìŒ | í”„ë¡¬í”„íŠ¸ ë‹¤êµ­ì–´í™” í•„ìš” |

---

## [Checklist] ìµœì¢… ì„¤ê³„ ì ê²€

- [x] LLM ì—­í• ê³¼ Tool ëª…í™•íˆ ì •ì˜
  - LLM: ì˜ë„ ë¶„ë¥˜, ì„ í˜¸ë„ ì¶”ì¶œ, ê³„íš ìˆ˜ë¦½, ì‘ë‹µ í•©ì„±, í’ˆì§ˆ í‰ê°€
  - Tools: RAG ê²€ìƒ‰, ë‚ ì§œ ê³„ì‚°, ì›¹ ê²€ìƒ‰

- [x] ì´ìš©ì/ì‹œìŠ¤í…œ ê´€ì  íë¦„ êµ¬ë¶„
  - UX Flow: ì…ë ¥ â†’ ì²˜ë¦¬(ë¹„ê°€ì‹œ) â†’ ì‘ë‹µ
  - Technical Flow: State ë³€í™” ì¶”ì 

- [x] ê¸°ëŠ¥ ìœ„ì£¼ ë„ë©´(#1) í¬í•¨
  - ì‚¬ìš©ì-Agent-LLM-Tools-Storage ê´€ê³„ë„

- [x] ì›Œí¬í”Œë¡œìš° ë„ë©´(#2) í¬í•¨
  - 8ê°œ ë…¸ë“œ íë¦„ + ì¡°ê±´ë¶€ ë¶„ê¸°

- [x] API ë¹„ìš©/Latency/Hallucination ëŒ€ì±…
  - LLM í˜¸ì¶œ íšŸìˆ˜: 6-8íšŒ
  - ì‘ë‹µ ì‹œê°„: 6-18ì´ˆ
  - í™˜ê° ë°©ì§€: RAG + í’ˆì§ˆ í‰ê°€ ë£¨í”„

- [x] ì˜ë„ì  ì œì™¸ ê¸°ëŠ¥ ëª…ì‹œ
  - ì‹¤ì‹œê°„ ì•Œë¦¼, ì›ë¬¸ ì œê³µ, íŒ©íŠ¸ì²´í¬, ê°ì„± ë¶„ì„

---

> **ë¬¸ì„œ ë²„ì „**: 1.0
> **ìµœì¢… ìˆ˜ì •**: 2026-02-02
> **ì‘ì„± ê¸°ì¤€ ì½”ë“œ**: `news_chatbot_agent/agent/*.py`
